{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PhishHunter</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="{%static 'images/logo1.png'%}">
    <!-- Pignose Calender -->
    <link href="{% static 'plugins/pg-calendar/css/pignose.calendar.min.css' %}" rel="stylesheet">
    <!-- Chartist -->
    <link rel="stylesheet" href="{% static 'plugins/chartist/css/chartist.min.css' %}">
    <link rel="stylesheet" href="{% static 'plugins/chartist-plugin-tooltips/css/chartist-plugin-tooltip.css' %}">
    <!-- Custom Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script>
        window.onload = function() {
          var currentDate = new Date();
          var dateString = currentDate.toDateString();
          var paragraphs = document.getElementsByClassName("date-paragraph");
          
          for (var i = 0; i < paragraphs.length; i++) {
            paragraphs[i].innerHTML = dateString;
          }
          
        };
        
      </script>
      <script>
        function percentFilter(value) {
            return (value * 100).toFixed(2) + '%';
        }
    </script>
      

</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="loader">
            <svg class="circular" viewBox="25 25 50 50">
                <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="3" stroke-miterlimit="10" />
            </svg>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->

    
    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">

        <!--**********************************
            Nav header start
        ***********************************-->
        <div class="nav-header">
            <div class="brand-logo">
              <a href="index">
                <b class="logo-abbr" ><img src="" alt=""></b>
                <span class="logo-compact"><img src="{%static 'images/logo-compact.png'%}" alt=""></span>
                <span class="brand-title">
                  <div style="display: flex; justify-content: center; align-items: center; margin-top: -75px; margin-left: auto;">
                    <img src="{%static 'images/logo-white.png'%}" height="200" width="300" alt="">
                  </div>
                </span>
              </a>
            </div>
          </div>
        <!--**********************************
            Nav header end
        ***********************************-->

        <!--**********************************
            Header start
        ***********************************-->
        <div class="header">    
            <div class="header-content clearfix">
                
                <div class="nav-control">
                    <div class="hamburger">
                        <span class="toggle-icon"><i class="icon-menu"></i></span>
                    </div>
                </div>
                
                <div class="header-right">
                    <ul class="clearfix"> 
                        <li class="icons dropdown">
                            <div class="user-img c-pointer position-relative"   data-toggle="dropdown">
                                <span class="activity active"></span>
                                <img src="{%static 'images/user/1.png'%}" height="40" width="40" alt="">
                            </div>
                            <div class="drop-down dropdown-profile   dropdown-menu">
                                <div class="dropdown-content-body">
                                    <ul>
                                        <li>
                                            <a href="{% url 'profile'%}"><i class="icon-user"></i> <span>Profile</span></a>
                                        </li>
                                        <li>
                                            <a href="{% url 'inbox'%}"><i class="icon-envelope-open"></i> <span>Inbox</span> <div class="badge gradient-3 badge-pill badge-primary">3</div></a>
                                        </li>
                                        
                                        <hr class="my-2">
                                        <li>
                                            <a href="page-lock.html"><i class="icon-lock"></i> <span>Lock Screen</span></a>
                                        </li>
                                        <li><a href="{% url 'logout' %}"><i class="icon-key"></i> <span>Logout</span></a></li>
                                    </ul>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!--**********************************
            Header end ti-comment-alt
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <div class="nk-sidebar">           
            <div class="nk-nav-scroll">
                <ul class="metismenu" id="menu">
                    <li class="nav-label">Dashboard </li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="icon-speedometer menu-icon"></i><span class="nav-text">Dashboard</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="{% url 'index'%}">Home</a></li>
                            <!-- <li><a href="./index-2.html">Home 2</a></li> -->
                        </ul>
                    </li>
                    <li class="nav-label">Apps</li>
                    <li>
                        <a class="has-arrow" href="javascript:void()" aria-expanded="false">
                            <i class="icon-envelope menu-icon"></i> <span class="nav-text">Email</span>
                        </a>
                        <ul aria-expanded="false">
                            <li><a href="{% url 'inbox' %}">Inbox</a></li>
                            <li><a href="./email-compose.html">Compose</a></li>
                        </ul>
                    </li>
                   
                   
                </ul>
            </div>
        </div>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">

            <div class="container-fluid mt-3">
                <div class="row">
                    <div class="col-lg-3 col-sm-6">
                        <div class="card gradient-1">
                            <div class="card-body">
                                <h3 class="card-title text-white">Phishing emails</h3>
                                <div class="d-inline-block">
                                    <h2 class="text-white">{{nbrphi}}</h2>
                                    <p class="text-white mb-0 date-paragraph"></p>
                                </div>
                                <span class="float-right display-5 opacity-5"><i class="fa fa-user-secret"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="card gradient-2">
                            <div class="card-body">
                                <h3 class="card-title text-white">Spam</h3>
                                <div class="d-inline-block">
                                    <h2 class="text-white">{{nbrspam}}</h2>
                                    <p class="text-white mb-0 date-paragraph"></p>
                                </div>
                                <span class="float-right display-5 opacity-5"><i class="fa fa-envelope-square"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="card gradient-3">
                            <div class="card-body">
                                <h3 class="card-title text-white">Fake News</h3>
                                <div class="d-inline-block">
                                    <h2 class="text-white">{{nbrfake}}</h2>
                                    <p class="text-white mb- date-paragraph"></p>
                                </div>
                                <span class="float-right display-5 opacity-5"><i class="fa fa-newspaper-o"></i></span>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6">
                        <div class="card gradient-4">
                            <div class="card-body">
                                <h3 class="card-title text-white">Cyberbullying</h3>
                                <div class="d-inline-block">
                                    <h2 class="text-white">{{nbrtox}}</h2>
                                    <p class="text-white mb-0 date-paragraph "></p>
                                </div>
                                <span class="float-right display-5 opacity-5"><i class="fa fa-deaf"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- #/ container -->
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <canvas id="barChart" width="250" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">phishing Email</h4>
                                 <div style="color:#FF6384;width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 20px;
                                     line-height:19px; text-align: center;font-size:45px  ;">
                                    {{ totalphis|floatformat:0 }}%
                                </div>
                                <canvas id="chart3" width="500" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Toxic Email</h4>
                                <div style="color:#FF6384;width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 20px;
                                     line-height:19px; text-align: center;font-size:45px  ;">
                                    {{ totaltox|floatformat:0 }}%
                                </div>
                                 <canvas id="chart1" width="500" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">Spam Email</h4>
                                <div style="color:#FF6384;width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 20px;
                                line-height:19px; text-align: center;font-size:45px  ;">
                               {{ totalspam|floatformat:0 }}%
                           </div>
                            <canvas id="chart2" width="500" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title">fake Email</h4>
                                <div style="color:#FF6384;width: 100%; height: 40px; position: absolute; top: 50%; left: 0; margin-top: 20px;
                                line-height:19px; text-align: center;font-size:45px  ;">
                              {{ totalfake|floatformat:0 }}%
                           </div>
                             <canvas id="chart5" width="500" height="250"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-body">
                                <canvas id="radarChart" width="100" height="100"></canvas>
                            </div>
                        </div>
                    </div>
                    
                </div>
               
                
                
            </div>
            
            <script>
                // Chart 1 - Doughnut chart Phishing score
                {% block content %}
                const ctx1 = document.getElementById("chart1").getContext("2d");
                const data1 = [];
                const toxicProb = {{ totaltox }};
                const notToxicProb = 100 - toxicProb;
                const chart1 = new Chart(ctx1, {
                    type: "doughnut",
                    data: {
                        labels: ["toxic", "Not toxic"],
                        datasets: [{
                            data: [toxicProb, notToxicProb],
                            backgroundColor: ["rgba(54, 162, 235, 0.6)", "#D9D9D9"]
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            labels: {
                                render: "percentage",
                                fontColor: ["white", "white"],
                                precision: 2,
                                fontSize: 20,
                                fontStyle: "bold"
                            }
                        }
                    }
                });
                // Chart 2 - Doughnut chart Spam score
            const ctx2 = document.getElementById("chart2").getContext("2d");
            const data2 = [];
            const spamProb = {{ totalspam }};
            const notSpamProb = 100 - spamProb;
            const chart2 = new Chart(ctx2, {
                type: "doughnut",
                data: {
                    labels: ["Spam", "Not Spam"],
                    datasets: [{
                        data: [spamProb, notSpamProb],
                        backgroundColor: ["rgba(255, 206, 86, 0.6)", "#D9D9D9"]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        labels: {
                            render: "percentage",
                            fontColor: ["white", "white"],
                            precision: 2,
                            fontSize: 20,
                            fontStyle: "bold"
                        }
                    }
                }
            });
            // Chart 3 - Doughnut chart Fake news score
            const ctx4 = document.getElementById("chart3").getContext("2d");
            const data4 = [];
            const phisProb = {{ totalphis }};
            const notphisProb = 100 - phisProb;
            const chart3= new Chart(ctx4, {
                type: "doughnut",
                data: {
                    labels: ["phsihing ", "Not phishing"],
                    datasets: [{
                        data: [phisProb, notphisProb],
                        backgroundColor: ["rgba(255, 99, 132, 0.6)", "#D9D9D9"]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        labels: {
                            render: "percentage",
                            fontColor: ["white", "white"],
                            precision: 2,
                            fontSize: 20,
                            fontStyle: "bold"
                        }
                    }
                }
            });
            // Chart 5 - Doughnut chart Fake news score
            const ctx5 = document.getElementById("chart5").getContext("2d");
            const data5 = [];
            const fakeProb = {{ totalfake }};
            const notfakeProb = 100 - fakeProb;
            const chart5 = new Chart(ctx5, {
                type: "doughnut",
                data: {
                    labels: ["fake news ", "real news"],
                    datasets: [{
                        data: [fakeProb, notfakeProb],
                        backgroundColor: ["rgba(75, 192, 192, 0.6)", "#D9D9D9"]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        labels: {
                            render: "percentage",
                            fontColor: ["white", "white"],
                            precision: 2,
                            fontSize: 20,
                            fontStyle: "bold"
                        }
                    }
                }
            });
            
                // Sample data (replace with your actual data)
                const data = {
                  labels: ['Spam Email', 'Toxic Email', 'Phishing Email', 'Fake News'],
                  datasets: [{
                    label: 'Count',
                    data: [{{nbrspam}}, {{nbrtox}},{{nbrphi}},{{nbrfake}}],
                    backgroundColor: ['rgba(255, 99, 132, 0.6)', 'rgba(54, 162, 235, 0.6)', 'rgba(255, 206, 86, 0.6)', 'rgba(75, 192, 192, 0.6)'],
                    borderWidth: 1
                  }]
                };
              
                // Chart configuration
                const config = {
                  type: 'bar',
                  data: data,
                  options: {
                    scales: {
                      y: {
                        beginAtZero: true
                      }
                    }
                  }
                };
              
                // Render the chart
                const ctx3 = document.getElementById('barChart').getContext('2d');
                new Chart(ctx3, config);
                
                
                
                const data6 = {
                    labels: ['Phishing Score email', 'Toxic Score Email', 'Fake Score Email', 'Spam Score Email'],
                    datasets: [{
                      label: 'Score',
                      data: [{{totalphis}},{{totaltox}}, {{totalfake}}, {{totalspam}}],
                      backgroundColor: 'rgba(255, 99, 132, 0.6)',
                      borderWidth: 1
                    }]
                };
                
                  // Chart configuration
                const config1 = {
                    type: 'radar',
                    data: data,
                    options: {
                      scales: {
                        r: {
                          beginAtZero: true,
                          max: 5
                        }
                      }
                    }
                };
                
                  // Render the chart
                const ctx6 = document.getElementById('radarChart').getContext('2d');
                new Chart(ctx6, config1);
                  // Sample data (replace with your actual data)
                  const data7 = {
                    labels: ['email 1', 'email 2', 'email 3'],
                    datasets: [
                        {
                            label: 'Joy',
                            data: [listjoy[0], listjoy[1], listjoy[2]],
                            backgroundColor: 'rgba(255, 99, 132, 0.6)'
                        },
                        {
                            label: 'Negative',
                            data: [listnegative[0], listnegative[1], listnegative[2]],
                            backgroundColor: 'rgba(54, 162, 235, 0.6)'
                        },
                        {
                            label: 'Positive',
                            data: [listpositive[0], listpositive[1], listpositive[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Surprise',
                            data: [listsurprise[0], listsurprise[1], listsurprise[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Trust',
                            data: [listtrust[0], listtrust[1], listtrust[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Anger',
                            data: [listanger[0], listanger[1], listanger[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Fear',
                            data: [listfear[0], listfear[1], listfear[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Disgust',
                            data: [listdisgust[0], listdisgust[1], listdisgust[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Sadness',
                            data: [listsadness[0], listsadness[1], listsadness[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        },
                        {
                            label: 'Anticipation',
                            data: [listanticipation[0], listanticipation[1], listanticipation[2]],
                            backgroundColor: 'rgba(75, 192, 192, 0.6)'
                        }
                    ]
                };
                

                // Chart configuration
                const config7 = {
                    type: 'bar',
                    data: data7,
                    options: {
                    responsive: true,
                    scales: {
                        x: {
                        stacked: true
                        },
                        y: {
                        stacked: true
                        }
                    }
                    }
                };

                // Render the chart
                const ctx7 = document.getElementById('stackedBarChart').getContext('2d');
                new Chart(ctx7, config7);
                  



                {% endblock %}
            </script>
                
        



        

        <!--**********************************
            Content body end
        ***********************************-->
        
        
        <!--**********************************
            Footer start
        ***********************************-->
        
        <!--**********************************
            Footer end
        ***********************************-->
    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts

        
    ***********************************-->
    <script src="{% static 'plugins/common/common.min.js' %}"></script>
    <script src="{% static 'js/custom.min.js' %}"></script>
    <script src="{% static 'js/settings.js' %}"></script>
    <script src="{% static 'js/gleek.js' %}"></script>
    <script src="{% static 'js/styleSwitcher.js' %}"></script>

    <!-- Chartjs -->
    <script src="{% static 'assets/plugins/chart.js/Chart.bundle.min.js' %}"></script>
    <!-- Circle progress -->
    <script src="{% static 'assets/plugins/circle-progress/circle-progress.min.js' %}"></script>
    <!-- Datamap -->
    <script src="{% static 'assets/plugins/d3v3/index.js' %}"></script>
    <script src="{% static 'assets/plugins/topojson/topojson.min.js' %}"></script>
    <script src="{% static 'assets/plugins/datamaps/datamaps.world.min.js' %}"></script>


    <!-- Morrisjs -->
    <script src="{% static 'assets/plugins/raphael/raphael.min.js' %}"></script>

    <script src="{% static 'assets/plugins/morris/morris.min.js' %}"></script>

    <!-- Pignose Calender -->
    <script src="{% static 'assets/plugins/moment/moment.min.js' %}"></script>

    <script src="{% static 'assets/plugins/pg-calendar/js/pignose.calendar.min.js' %}"></script>

    <!-- ChartistJS -->
    <script src="{% static 'assets/plugins/chartist/js/chartist.min.js' %}"></script>

    <script src="{% static 'assets/plugins/chartist-plugin-tooltips/js/chartist-plugin-tooltip.min.js' %}"></script>




    <script src="{% static 'assets/js/dashboard/dashboard-1.js' %}"></script>
    <script src="{% static 'script.js'%}" type="text/javascript"> </script>  
    

</body>

</html>